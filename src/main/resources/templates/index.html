<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Iris Classifier Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .input-group { margin-bottom: 10px; }
        label { display: inline-block; width: 250px; }
        #chart-container { width: 100%; height: 400px; margin-top: 30px; }
        .result-info { margin-top: 20px; font-weight: bold; color: #2c3e50; }
    </style>
</head>
<body>
    <h1>Iris Species Classifier</h1>
    
    <div id="input-form">
        <div class="input-group">
            <label>Example Cases:</label>
            <button type="button" onclick="fillAndPredict(5.1, 3.5, 1.4, 0.2)">Setosa</button>
            <button type="button" onclick="fillAndPredict(6.1, 2.8, 4.0, 1.3)">Versicolor</button>
            <button type="button" onclick="fillAndPredict(6.3, 3.3, 6.0, 2.5)">Virginica</button>
        </div>
        <hr>
        <div class="input-group">
            <label>Sepal Length (꽃받침 길이):</label>
            <input type="number" id="sepalLength" step="0.1" value="5.1">
        </div>
        <div class="input-group">
            <label>Sepal Width (꽃받침 너비):</label>
            <input type="number" id="sepalWidth" step="0.1" value="3.5">
        </div>
        <div class="input-group">
            <label>Petal Length (꽃잎 길이):</label>
            <input type="number" id="petalLength" step="0.1" value="1.4">
        </div>
        <div class="input-group">
            <label>Petal Width (꽃잎 너비):</label>
            <input type="number" id="petalWidth" step="0.1" value="0.2">
        </div>
        <button onclick="predict()">예측하기</button>
    </div>

    <div id="result-area" style="display:none;">
        <p class="result-info">예측 결과: <span id="predictedSpecies">-</span></p>
        <div id="chart-container">
            <canvas id="probabilityChart"></canvas>
        </div>
    </div>

    <hr style="margin-top: 50px;">
    <div id="project-info">
        <h3>프로젝트 소개</h3>
        <p>
            이 프로젝트는 <strong>Spring Boot</strong>와 <strong>Deeplearning4j(DL4J)</strong>를 활용한 로컬 머신러닝 서비스 구현 예제입니다.
            전통적인 붓꽃(Iris) 데이터셋을 사용하여 꽃받침(Sepal)과 꽃잎(Petal)의 크기에 따라 품종을 분류하는 신경망 모델을 학습하고 추론합니다.
        </p>
        <h3>데모 설명</h3>
        <ul>
            <li><strong>예제 데이터 입력:</strong> 상단의 버튼을 클릭하면 각 품종별 전형적인 측정값이 자동으로 입력됩니다.</li>
            <li><strong>실시간 예측:</strong> '예측하기' 버튼을 누르면 서버에 저장된 DL4J 모델이 실시간으로 추론을 수행합니다.</li>
            <li><strong>결과 시각화:</strong> 예측된 결과와 함께 각 품종별 확률 분포가 Chart.js를 통해 막대 그래프로 표시됩니다.</li>
            <li><strong>소스 코드:</strong> 본 프로젝트의 소스 코드는 <a href="https://github.com/nhn-academy-marco/ai-iris" target="_blank">GitHub 저장소</a>에서 확인할 수 있습니다.</li>
        </ul>
    </div>

    <script src="/js/iris-predict.js"></script>
</body>
</html>
